(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{22:function(e,t,a){e.exports={form:"catalogo_form__1uHD0",checkbox:"catalogo_checkbox__31_ib"}},34:function(e,t,a){e.exports={cabecera:"searchBar_cabecera__2rxuu"}},46:function(e,t,a){e.exports=a(74)},51:function(e,t,a){},52:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(11),c=a.n(r),o=(a(51),a(41)),s=a(32),l=a(33),u=a(42),p=a(40),d=(a(52),a(9)),m=a(21),f=a(34),h=a.n(f),g=function(e){var t=e.datosBusqueda,a=Object(n.useState)({search:null,showCatalogo:!1}),r=Object(m.a)(a,2),c=r[0],o=r[1];return i.a.createElement("div",null,i.a.createElement("div",{className:h.a.cabecera},i.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t(c.search)}},i.a.createElement("input",{type:"search",placeholder:"Inserte producto",onChange:function(e){o(Object(d.a)(Object(d.a)({},c),{},{search:e.target.value}))}}))),i.a.createElement("br",null))},b=a(4),v=a(95),E=a(90),_=a(91),k=a(92);var F=Object(b.a)({item:{color:"#fff5c0",minHeight:"700ox",minWidth:"600px",margin:"1em",textAlign:"center",boxSizing:"border box",background:"#394867",borderColor:"#ff8585"},media:{minHeight:"500px",minWidth:"500px"}})((function(e){var t=e.product,a=e.classes;return i.a.createElement(v.a,{className:a.item},i.a.createElement(E.a,{className:a.media,image:t.thumbnail}),i.a.createElement(_.a,null,i.a.createElement(k.a,{component:"p"},t.title),"$",t.price,"  ",t.currency_id),"Cantidades disponibles: ",t.available_quantity,i.a.createElement(_.a,null,"new"===t.condition?"Nuevo":"Usados"))})),w=a(94),x=a(93),S=a(22),j=a.n(S);var A=function(e){var t=e.products,a=e.conditionFilter,r=e.filterPrice,c=e.paginaSiguiente,o=e.paginaAnterior,s=e.filters,l=(e.pagina,Object(n.useState)({price_asc:"price_asc"===r,price_desc:"price_desc"===r,new:"new"===a,used:"used"===a,priceFilter:null,conditionFilter:null})),u=Object(m.a)(l,2),p=u[0],f=u[1],h=function(e,t){"price_asc"===t&&f(Object(d.a)(Object(d.a)({},p),{},{price_asc:!1===p.price_asc,price_desc:!1,priceFilter:!1===p.price_asc?"price_asc":null})),"price_desc"===t&&f(Object(d.a)(Object(d.a)({},p),{},{price_asc:!1,price_desc:!1===p.price_desc,priceFilter:!1===p.price_desc?"price_desc":null})),"new"===t&&f(Object(d.a)(Object(d.a)({},p),{},{new:!1===p.new,used:!1,conditionFilter:!1===p.new?"new":null})),"used"===t&&f(Object(d.a)(Object(d.a)({},p),{},{new:!1,used:!1===p.used,conditionFilter:!1===p.used?"used":null}))};return 0===t.length?null:i.a.createElement("div",null,i.a.createElement("div",{className:j.a.form},i.a.createElement("div",{className:j.a.checkbox},i.a.createElement("div",null,i.a.createElement("input",{type:"checkbox",name:"price_asc",id:"checkbox1",checked:p.price_asc,onChange:function(e){return h(0,e.target.name)}}),i.a.createElement("label",{htmlFor:"checkbox1"},"Mayor a Menor"),i.a.createElement("input",{type:"checkbox",name:"price_desc",id:"checkbox2",checked:p.price_desc,onChange:function(e){return h(0,e.target.name)}}),i.a.createElement("label",{htmlFor:"checkbox2"}," Menor a Mayor ")),i.a.createElement("div",null,i.a.createElement("input",{type:"checkbox",name:"new",id:"checkbox3",checked:p.new,onChange:function(e){return h(0,e.target.name)}}),i.a.createElement("label",{htmlFor:"checkbox3"}," Nuevo"),i.a.createElement("input",{type:"checkbox",name:"used",id:"checkbox4",checked:p.used,onChange:function(e){return h(0,e.target.name)}}),i.a.createElement("label",{htmlFor:"checkbox4"}," Usado "))),i.a.createElement(w.a,{variant:"outlined",onClick:function(){s(p.conditionFilter,p.priceFilter)}}," Filtrar ")),i.a.createElement(x.a,{container:!0,spacing:10,justify:"center"},t.map((function(e){return i.a.createElement(F,{key:e.id,product:e})}))),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(w.a,{variant:"outlined",color:"secondary",onClick:o},"Pagina Anterior"),i.a.createElement(w.a,{variant:"outlined",color:"primary",onClick:function(){return c(t)}},"Pagina Siguiente"))},O=a(39),y=a.n(O),C=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={termino:"",pagina:0,pedir:0,products:[],productsFiltered:[],filterPrice:!1,conditionFilter:!1,filterActive:!1},e.paginaAnterior=function(){var t=e.state.pagina-10;if(0===e.state.pagina&&0===e.state.pedir)return alert("Esta es la primera pagina");e.state.pedir>=50&&0===e.state.pagina&&e.setState({pedir:e.state.pedir-50},(function(){e.consultarApi()})),e.setState({pagina:t},(function(){e.render()})),window.scroll(0,0)},e.paginaSiguiente=function(t){if(window.scroll(0,0),!0===e.state.filterActive){var a=e.state.pagina+10;t.length<10&&e.setState({pedir:e.state.pedir+50},(function(){e.consultarApi()})),e.setState({pagina:a},(function(){e.render()}))}var n=e.state.pagina+10;50===n&&e.setState({pedir:e.state.pedir+50},(function(){e.consultarApi()})),e.setState({pagina:n},(function(){e.render()}))},e.consultarApi=function(){var t=e.state.termino;y()("".concat("http://localhost:3001","/api/search/").concat(t,"/").concat(e.state.pedir)).then((function(a){var n=a.data;e.setState({termino:t,products:n.results,productsFiltered:n.results,pagina:0},(function(){e.status(),e.price()}))}))},e.filters=function(t,a){e.setState({conditionFilter:t,filterPrice:a,filterActive:null!==t||null!==a,pagina:0},(function(){e.status(),e.price(),e.render()}))},e.status=function(){"new"===e.state.conditionFilter&&e.setState({productsFiltered:e.state.products.filter((function(e){return"new"===e.condition}))}),"used"===e.state.conditionFilter&&e.setState({productsFiltered:e.state.products.filter((function(e){return"used"===e.condition}))})},e.price=function(){var t=Object(o.a)(e.state.productsFiltered);"price_asc"===e.state.filterPrice&&e.setState({productsFiltered:t.sort((function(e,t){return e.price<t.price?1:e.price>t.price?-1:0}))}),"price_desc"===e.state.filterPrice&&e.setState({productsFiltered:t.sort((function(e,t){return e.price>t.price?1:e.price<t.price?-1:0}))})},e.datosBusqueda=function(t){e.setState({termino:t,pagina:0},(function(){e.consultarApi()}))},e}return Object(l.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement(g,{datosBusqueda:this.datosBusqueda}),!1===this.state.filterActive&&i.a.createElement(A,{filters:this.filters,products:this.state.products.slice(1*this.state.pagina,this.state.pagina+10),filterPrice:this.state.filterPrice,condition:this.state.conditionFilter,paginaAnterior:this.paginaAnterior,paginaSiguiente:this.paginaSiguiente}),!0===this.state.filterActive&&i.a.createElement(A,{filters:this.filters,products:this.state.productsFiltered.slice(1*this.state.pagina,this.state.pagina+10),filterPrice:this.state.filterPrice,conditionFilter:this.state.conditionFilter,paginaAnterior:this.paginaAnterior,paginaSiguiente:this.paginaSiguiente,pagina:this.state.pagina}))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[46,1,2]]]);
//# sourceMappingURL=main.92ed7bc5.chunk.js.map